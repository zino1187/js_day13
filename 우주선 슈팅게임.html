<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>우주선 슈팅게임(횡단형)</title>
<style>
*{margin:0px;}
#stage{
	width:1280px;
	height:640px;
	background:url("../res/game_bg.jpg");
}
</style>
<script src="./Ship.js"></script>
<script>
var stage;
var x=0;//배경 이미지의 x축 위치를 결정하는 변수
var ship;

function init(){
	stage=document.getElementById("stage");	
	bgEffect();
	createHero();
	gameLoop();
}
//배경이 횡방향으로 흘러가게..
function bgEffect(){
	x-=5;
	stage.style.backgroundPosition=x+"px 0px";
}
//주인공 우주선 생성
function createHero(){
	ship=new Ship(stage,"../res/plane.png",100,60,50,150,0,0);
}
//키보드 이벤트 따라 우주선을 제어한다!!
function control(){
	ship.velX=5;
	ship.velX=-5;
	ship.velY=5;
	ship.velY=-5;
}

//게임에 등장할 배경, 아이템, 적군, 히어로 등등의 모든 동작을 여기서
//호출함...(게임 프레임웍)
function gameLoop(){
	bgEffect();
	ship.tick();//속성값 변화줌
	ship.render();//그려짐
	setTimeout("gameLoop()",10);
}
addEventListener("load", function(){
	init();
});
</script>
</head>
<body onKeyDown="control()">
	<div id="stage"></div>
</body>
</html>
